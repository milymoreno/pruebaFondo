{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/order.service\";\nimport * as i2 from \"../services/product.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction OrdersComponent_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r2 = ctx.$implicit;\n    const i_r3 = ctx.index;\n    i0.ɵɵproperty(\"value\", i_r3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(product_r2.name);\n  }\n}\nfunction OrdersComponent_div_12_li_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const orderDetail_r7 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate5(\" \", orderDetail_r7.productId, \" - \", (tmp_0_0 = ctx_r5.getProductById(orderDetail_r7.productId)) == null ? null : tmp_0_0.name, \" - \", (tmp_0_0 = ctx_r5.getProductById(orderDetail_r7.productId)) == null ? null : tmp_0_0.description, \" - \", orderDetail_r7.price, \"$ x \", orderDetail_r7.quantity, \" \");\n  }\n}\nfunction OrdersComponent_div_12_li_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"div\")(2, \"strong\");\n    i0.ɵɵtext(3, \"Product ID:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\")(6, \"strong\");\n    i0.ɵɵtext(7, \"Product Name:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\")(10, \"strong\");\n    i0.ɵɵtext(11, \"Product Price:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(13, \"div\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const orderItem_r8 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", orderItem_r8.product == null ? null : orderItem_r8.product.name, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", orderItem_r8.product == null ? null : orderItem_r8.product.name, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", orderItem_r8.product == null ? null : orderItem_r8.product.price, \" \");\n  }\n}\nfunction OrdersComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\")(13, \"h3\");\n    i0.ɵɵtext(14, \"Order Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"ul\");\n    i0.ɵɵtemplate(16, OrdersComponent_div_12_li_16_Template, 2, 5, \"li\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"ul\");\n    i0.ɵɵtemplate(18, OrdersComponent_div_12_li_18_Template, 14, 3, \"li\", 6);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const order_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"ID: \", order_r4.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Status: \", order_r4.status, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Delivery Address: \", order_r4.deliveryAddress, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Payment Method: \", order_r4.paymentMethod, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Date: \", i0.ɵɵpipeBind1(11, 7, order_r4.date), \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", order_r4.orderDetails);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", order_r4.orderDetails);\n  }\n}\nexport class OrdersComponent {\n  constructor(orderService, productService) {\n    this.orderService = orderService;\n    this.productService = productService;\n    this.orders = [];\n    this.newOrder = {\n      userId: 0,\n      deliveryAddress: '',\n      status: 'PENDING',\n      paymentMethod: 'CREDIT_CARD',\n      date: new Date(),\n      orderDetails: []\n    };\n    this.products = [];\n    this.selectedProduct = null;\n    this.quantity = 1;\n  }\n  ngOnInit() {\n    this.loadOrders();\n    this.loadProducts();\n  }\n  loadOrders() {\n    this.orderService.getOrders().subscribe(orders => {\n      this.orders = orders;\n      // Cargar detalles completos del producto para cada OrderItem\n      this.loadOrderDetails();\n    });\n  }\n  /*mily*/\n  loadOrderDetails() {\n    for (const order of this.orders) {\n      for (const orderItem of order.orderDetails) {\n        this.productService.getProductById(orderItem.productId).subscribe(product => {\n          orderItem.product = product;\n        });\n      }\n    }\n  }\n  /*en mily*/\n  loadProducts() {\n    this.productService.getProducts().subscribe(data => {\n      this.products = data;\n    });\n  }\n  addOrder() {\n    if (this.selectedProduct && this.selectedProduct.id !== undefined) {\n      const orderItem = {\n        productId: this.selectedProduct.id,\n        quantity: this.quantity,\n        price: this.selectedProduct.price\n      };\n      this.newOrder.orderDetails.push(orderItem);\n      this.orderService.createOrder(this.newOrder).subscribe(createdOrder => {\n        this.loadOrders();\n        this.newOrder = {\n          userId: 0,\n          deliveryAddress: '',\n          status: 'PENDING',\n          paymentMethod: 'CREDIT_CARD',\n          date: new Date(),\n          orderDetails: []\n        };\n        this.selectedProduct = null;\n        this.quantity = 1;\n      });\n    } else {\n      console.error('Selected product is invalid or undefined');\n    }\n  }\n  onSelectProduct(event) {\n    const selectElement = event.target;\n    const selectedIndex = parseInt(selectElement.value, 10);\n    if (!isNaN(selectedIndex) && this.products[selectedIndex]) {\n      this.selectedProduct = this.products[selectedIndex];\n    } else {\n      this.selectedProduct = null;\n    }\n  }\n  getProductById(productId) {\n    return this.products.find(product => product.id === productId);\n  }\n  static #_ = this.ɵfac = function OrdersComponent_Factory(t) {\n    return new (t || OrdersComponent)(i0.ɵɵdirectiveInject(i1.OrderService), i0.ɵɵdirectiveInject(i2.ProductService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: OrdersComponent,\n    selectors: [[\"app-orders\"]],\n    decls: 13,\n    vars: 4,\n    consts: [[\"for\", \"productSelect\"], [\"id\", \"productSelect\", 3, \"disabled\", \"change\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"quantityInput\"], [\"type\", \"number\", \"id\", \"quantityInput\", \"min\", \"1\", \"max\", \"10\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [3, \"value\"]],\n    template: function OrdersComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h1\");\n        i0.ɵɵtext(1, \"Order Management\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\")(3, \"label\", 0);\n        i0.ɵɵtext(4, \"Select Product:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"select\", 1);\n        i0.ɵɵlistener(\"change\", function OrdersComponent_Template_select_change_5_listener($event) {\n          return ctx.onSelectProduct($event);\n        });\n        i0.ɵɵtemplate(6, OrdersComponent_option_6_Template, 2, 2, \"option\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"label\", 3);\n        i0.ɵɵtext(8, \"Quantity:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"input\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function OrdersComponent_Template_input_ngModelChange_9_listener($event) {\n          return ctx.quantity = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"button\", 5);\n        i0.ɵɵlistener(\"click\", function OrdersComponent_Template_button_click_10_listener() {\n          return ctx.addOrder();\n        });\n        i0.ɵɵtext(11, \"Add Order\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(12, OrdersComponent_div_12_Template, 19, 9, \"div\", 6);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"disabled\", !ctx.products || ctx.products.length === 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.products);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.quantity);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.orders);\n      }\n    },\n    dependencies: [i3.NgForOf, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.MinValidator, i4.MaxValidator, i4.NgModel, i3.DatePipe],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["i0","OrdersComponent","constructor","orderService","productService","userId","deliveryAddress","status","paymentMethod","date","Date","orderDetails","ngOnInit","loadOrders","loadProducts","getOrders","subscribe","orders","loadOrderDetails","order","orderItem","getProductById","productId","product","getProducts","data","products","addOrder","selectedProduct","id","undefined","quantity","price","newOrder","push","createOrder","createdOrder","console","error","onSelectProduct","event","selectElement","target","selectedIndex","parseInt","value","isNaN","find","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\app_angular\\ecommerce-app\\src\\app\\orders\\orders.component.html","C:\\app_angular\\ecommerce-app\\src\\app\\orders\\orders.component.ts"],"sourcesContent":["<h1>Order Management</h1>\n\n<!-- Formulario para crear una nueva orden -->\n<div>\n  <label for=\"productSelect\">Select Product:</label>\n  <!--<select id=\"productSelect\" (change)=\"onSelectProduct($event)\" [disabled]=\"!products?.length\">-->\n  <select id=\"productSelect\" (change)=\"onSelectProduct($event)\" [disabled]=\"!products || products.length === 0\">\n\n    <option *ngFor=\"let product of products; let i = index\" [value]=\"i\">{{ product.name }}</option>\n  </select>\n  <label for=\"quantityInput\">Quantity:</label>\n  <input type=\"number\" id=\"quantityInput\" [(ngModel)]=\"quantity\" min=\"1\" max=\"10\">\n  <button (click)=\"addOrder()\">Add Order</button>\n</div>\n\n<!-- Lista de órdenes -->\n<div *ngFor=\"let order of orders\">\n  <div>ID: {{ order.id }}</div>\n  <div>Status: {{ order.status }}</div>\n  <div>Delivery Address: {{ order.deliveryAddress }}</div>\n  <div>Payment Method: {{ order.paymentMethod }}</div>\n  <div>Date: {{ order.date | date }}</div>\n  <div>\n    <!-- Detalle de la orden -->\n    <h3>Order Details</h3>\n    <ul>\n      <li *ngFor=\"let orderDetail of order.orderDetails\">\n        {{ orderDetail.productId }} - {{ getProductById(orderDetail.productId)?.name }} - {{ getProductById(orderDetail.productId)?.description }} - {{ orderDetail.price }}$ x {{ orderDetail.quantity }}\n      </li>\n    </ul>\n    <ul>\n      <li *ngFor=\"let orderItem of order.orderDetails\">\n        <div>\n          <strong>Product ID:</strong> {{ orderItem.product?.name }}\n        </div>\n        <div>\n          <strong>Product Name:</strong> {{ orderItem.product?.name }}\n        </div>\n        <div>\n          <strong>Product Price:</strong> {{ orderItem.product?.price }}\n        </div>\n        <div>\n          <!-- Mostrar otros detalles del producto según sea necesario -->\n        </div>\n      </li>\n    </ul>\n\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { OrderService } from '../services/order.service';\nimport { ProductService } from '../services/product.service';\nimport { Order, OrderItem } from '../models/order.model';\nimport { Product } from '../models/product.model';\n\n@Component({\n  selector: 'app-orders',\n  templateUrl: './orders.component.html',\n  styleUrls: ['./orders.component.css']\n})\nexport class OrdersComponent implements OnInit {\n  orders: Order[] = [];\n  newOrder: Order = { userId: 0, deliveryAddress: '', status: 'PENDING', paymentMethod: 'CREDIT_CARD', date: new Date(), orderDetails: [] };\n  products: Product[] = [];\n  selectedProduct: Product | null = null;\n  quantity: number = 1;\n\n  constructor(private orderService: OrderService, private productService: ProductService) { }\n\n  ngOnInit(): void {\n    this.loadOrders();\n    this.loadProducts();\n  }\n\n  loadOrders(): void {\n    this.orderService.getOrders().subscribe(orders => {\n      this.orders = orders;\n      // Cargar detalles completos del producto para cada OrderItem\n      this.loadOrderDetails();\n    });\n  }\n  /*mily*/\n\n  loadOrderDetails(): void {\n    for (const order of this.orders) {\n      for (const orderItem of order.orderDetails) {\n        this.productService.getProductById(orderItem.productId).subscribe(product => {\n          orderItem.product = product;\n        });\n      }\n    }\n  }\n/*en mily*/\n  loadProducts(): void {\n    this.productService.getProducts().subscribe(data => {\n      this.products = data;\n    });\n  }\n\n  addOrder(): void {\n    if (this.selectedProduct && this.selectedProduct.id !== undefined) {\n      const orderItem: OrderItem = {\n        productId: this.selectedProduct.id,\n        quantity: this.quantity,\n        price: this.selectedProduct.price\n      };\n\n      this.newOrder.orderDetails.push(orderItem);\n\n      this.orderService.createOrder(this.newOrder).subscribe((createdOrder: Order) => {\n        this.loadOrders();\n        this.newOrder = { userId: 0, deliveryAddress: '', status: 'PENDING', paymentMethod: 'CREDIT_CARD', date: new Date(), orderDetails: [] };\n        this.selectedProduct = null;\n        this.quantity = 1;\n      });\n    } else {\n      console.error('Selected product is invalid or undefined');\n    }\n  }\n\n  onSelectProduct(event: Event): void {\n    const selectElement = event.target as HTMLSelectElement;\n    const selectedIndex = parseInt(selectElement.value, 10);\n    if (!isNaN(selectedIndex) && this.products[selectedIndex]) {\n      this.selectedProduct = this.products[selectedIndex];\n    } else {\n      this.selectedProduct = null;\n    }\n  }\n\n  getProductById(productId: number): Product | undefined {\n    return this.products.find(product => product.id === productId);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}