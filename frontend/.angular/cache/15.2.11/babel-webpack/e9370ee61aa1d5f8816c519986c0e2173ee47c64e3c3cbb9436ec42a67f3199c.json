{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet BuscarAsociarFondosComponent = class BuscarAsociarFondosComponent {\n  constructor(clienteService) {\n    this.clienteService = clienteService;\n    this.numeroIdentificacion = ''; // Asegúrate de inicializar la variable\n    this.fondosDisponibles = [];\n  }\n  buscarCliente() {\n    this.clienteService.buscarClientePorNumeroIdentificacion(this.numeroIdentificacion).subscribe(response => {\n      this.cliente = response;\n      this.obtenerFondosDisponibles();\n    });\n  }\n  obtenerFondosDisponibles() {\n    this.clienteService.obtenerFondosDisponibles().subscribe(data => {\n      this.fondosDisponibles = data.map(fondo => ({\n        ...fondo,\n        selected: false\n      }));\n    });\n  }\n  asociarFondos() {\n    const fondosSeleccionados = this.fondosDisponibles.filter(fondo => fondo.selected).map(fondo => ({\n      fondoId: fondo.id,\n      montoSuscrito: fondo.monto,\n      fechaSuscripcion: new Date().toISOString()\n    }));\n    this.clienteService.asociarFondos(this.cliente.id, fondosSeleccionados).subscribe(response => {\n      console.log('Fondos asociados', response);\n      this.buscarCliente(); // Recargar los datos del cliente después de asociar fondos\n    });\n  }\n};\n\nBuscarAsociarFondosComponent = __decorate([Component({\n  selector: 'app-buscar-asociar-fondos',\n  templateUrl: './buscar-asociar-fondos.component.html',\n  styleUrls: ['./buscar-asociar-fondos.component.css']\n})], BuscarAsociarFondosComponent);\nexport { BuscarAsociarFondosComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAQlC,IAAMC,4BAA4B,GAAlC,MAAMA,4BAA4B;EAMvCC,YAAoBC,cAA8B;IAA9B,mBAAc,GAAdA,cAAc;IALlC,yBAAoB,GAAW,EAAE,CAAC,CAAC;IAGnC,sBAAiB,GAAU,EAAE;EAEwB;EAErDC,aAAa;IACX,IAAI,CAACD,cAAc,CAACE,oCAAoC,CAAC,IAAI,CAACC,oBAAoB,CAAC,CAACC,SAAS,CAACC,QAAQ,IAAG;MACvG,IAAI,CAACC,OAAO,GAAGD,QAAQ;MACvB,IAAI,CAACE,wBAAwB,EAAE;IACjC,CAAC,CAAC;EACJ;EAEAA,wBAAwB;IACtB,IAAI,CAACP,cAAc,CAACO,wBAAwB,EAAE,CAACH,SAAS,CAACI,IAAI,IAAG;MAC9D,IAAI,CAACC,iBAAiB,GAAGD,IAAI,CAACE,GAAG,CAACC,KAAK,KAAK;QAAE,GAAGA,KAAK;QAAEC,QAAQ,EAAE;MAAK,CAAE,CAAC,CAAC;IAC7E,CAAC,CAAC;EACJ;EAEAC,aAAa;IACX,MAAMC,mBAAmB,GAAG,IAAI,CAACL,iBAAiB,CAACM,MAAM,CAACJ,KAAK,IAAIA,KAAK,CAACC,QAAQ,CAAC,CAACF,GAAG,CAACC,KAAK,KAAK;MAC/FK,OAAO,EAAEL,KAAK,CAACM,EAAE;MACjBC,aAAa,EAAEP,KAAK,CAACQ,KAAK;MAC1BC,gBAAgB,EAAE,IAAIC,IAAI,EAAE,CAACC,WAAW;KACzC,CAAC,CAAC;IACH,IAAI,CAACtB,cAAc,CAACa,aAAa,CAAC,IAAI,CAACP,OAAO,CAACW,EAAE,EAAEH,mBAAmB,CAAC,CAACV,SAAS,CAACC,QAAQ,IAAG;MAC3FkB,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEnB,QAAQ,CAAC;MACzC,IAAI,CAACJ,aAAa,EAAE,CAAC,CAAE;IACzB,CAAC,CAAC;EACJ;CACD;;AAhCYH,4BAA4B,eALxCD,SAAS,CAAC;EACT4B,QAAQ,EAAE,2BAA2B;EACrCC,WAAW,EAAE,wCAAwC;EACrDC,SAAS,EAAE,CAAC,uCAAuC;CACpD,CAAC,GACW7B,4BAA4B,CAgCxC;SAhCYA,4BAA4B","names":["Component","BuscarAsociarFondosComponent","constructor","clienteService","buscarCliente","buscarClientePorNumeroIdentificacion","numeroIdentificacion","subscribe","response","cliente","obtenerFondosDisponibles","data","fondosDisponibles","map","fondo","selected","asociarFondos","fondosSeleccionados","filter","fondoId","id","montoSuscrito","monto","fechaSuscripcion","Date","toISOString","console","log","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Ecommece_Proyecto\\angular-app\\src\\app\\buscar-asociar-fondos\\buscar-asociar-fondos.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ClienteService } from '../../cliente.service';\n\n@Component({\n  selector: 'app-buscar-asociar-fondos',\n  templateUrl: './buscar-asociar-fondos.component.html',\n  styleUrls: ['./buscar-asociar-fondos.component.css']\n})\nexport class BuscarAsociarFondosComponent {\n  numeroIdentificacion: string = ''; // Asegúrate de inicializar la variable\n\n  cliente: any;\n  fondosDisponibles: any[] = [];\n\n  constructor(private clienteService: ClienteService) {}\n\n  buscarCliente() {\n    this.clienteService.buscarClientePorNumeroIdentificacion(this.numeroIdentificacion).subscribe(response => {\n      this.cliente = response;\n      this.obtenerFondosDisponibles();\n    });\n  }\n\n  obtenerFondosDisponibles() {\n    this.clienteService.obtenerFondosDisponibles().subscribe(data => {\n      this.fondosDisponibles = data.map(fondo => ({ ...fondo, selected: false }));\n    });\n  }\n\n  asociarFondos() {\n    const fondosSeleccionados = this.fondosDisponibles.filter(fondo => fondo.selected).map(fondo => ({\n      fondoId: fondo.id,\n      montoSuscrito: fondo.monto,\n      fechaSuscripcion: new Date().toISOString()\n    }));\n    this.clienteService.asociarFondos(this.cliente.id, fondosSeleccionados).subscribe(response => {\n      console.log('Fondos asociados', response);\n      this.buscarCliente();  // Recargar los datos del cliente después de asociar fondos\n    });\n  }\n}\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}